<!DOCTYPE html>
<html>
<head>
  <title>Buy cool new product</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
  <div class="main-container">
    <div class="product">
      <h3>👕 เสื้อ</h3>
      <h5>$19.00</h5>
      <button type="button" onclick="checkout('price_1Qr9ETCcJtP9jRNetkR8EZJW')">ซื้อเลย</button>
    </div>

    <div class="product">
      <h3>🩳 กางเกง</h3>
      <h5>$39.00</h5>
      <button type="button" onclick="checkout('price_1Qr9EJCcJtP9jRNeSlCrV1zW')">ซื้อเลย</button>
    </div>

    <div class="product">
      <h3>👜 กระเป๋า</h3>
      <h5>$69.00</h5>
      <button type="button" onclick="checkout('price_1Qr9EACcJtP9jRNeL7C0zjzC')">ซื้อเลย</button>
    </div>

    <div class="product">
      <h3>👟 รองเท้า</h3>
      <h5>$99.00</h5>
      <button type="button" onclick="checkout('price_1Qi5YWCcJtP9jRNeHARHBoCp')">ซื้อเลย</button>
    </div>
  </div>

  <script>
    function checkout(priceId) {
    fetch('/create-checkout-session', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ price_id: priceId })
    })
    .then(response => response.json())
    .then(data => {
      if (data.url) {
        window.location.href = data.url;
      } else {
        alert('Error: ' + data.error);
      }
    })
    .catch(error => console.error('Error:', error));
  }
  </script>
</body>
</html>